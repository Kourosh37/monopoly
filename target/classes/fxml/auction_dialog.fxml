<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.geometry.Insets?>

<!--
    Auction dialog for bidding on properties.
    Beautiful dark theme with live bidding animations.
-->
<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.monopoly.gui.controllers.AuctionDialogController"
      styleClass="auction-dialog"
      spacing="15"
      prefWidth="500"
      prefHeight="600"
      style="-fx-background-color: #0f0f23; -fx-padding: 20;">

    <!-- Header with Timer -->
    <HBox alignment="CENTER" spacing="20">
        <HBox alignment="CENTER" spacing="10">
            <Label text="ðŸ”¨" style="-fx-font-size: 28px;"/>
            <Label text="PROPERTY AUCTION" styleClass="dialog-title" 
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #ffffff;"/>
        </HBox>
        
        <!-- Timer -->
        <VBox alignment="CENTER" spacing="3">
            <Label fx:id="timerLabel" text="30s" 
                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #00d9ff;"/>
            <ProgressBar fx:id="timerProgress" progress="1.0" prefWidth="80" prefHeight="6"
                         style="-fx-accent: #00d9ff;"/>
        </VBox>
    </HBox>
    
    <Separator style="-fx-background-color: #333355;"/>
    
    <!-- Property Card Display -->
    <HBox alignment="CENTER">
        <VBox fx:id="propertyCard" alignment="CENTER" spacing="10"
              style="-fx-background-color: #1a1a2e; -fx-background-radius: 12; -fx-padding: 15; -fx-min-width: 200;">
            
            <!-- Color Band -->
            <Rectangle fx:id="propertyColorBand" width="180" height="30" arcWidth="8" arcHeight="8"
                       style="-fx-fill: #e94560;"/>
            
            <!-- Property Name -->
            <Label fx:id="propertyNameLabel" text="Mediterranean Avenue" 
                   style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #ffffff; -fx-text-alignment: center;"
                   wrapText="true" maxWidth="180"/>
            
            <!-- Property Details -->
            <Label fx:id="propertyPriceLabel" text="List Price: $60" 
                   style="-fx-font-size: 12px; -fx-text-fill: #888888;"/>
            <Label fx:id="propertyRentLabel" text="Base Rent: $2" 
                   style="-fx-font-size: 12px; -fx-text-fill: #888888;"/>
        </VBox>
    </HBox>
    
    <!-- Current Bid Display -->
    <VBox alignment="CENTER" spacing="8" 
          style="-fx-background-color: #16213e; -fx-background-radius: 10; -fx-padding: 15;">
        <Label text="CURRENT BID" style="-fx-font-size: 12px; -fx-text-fill: #666666; -fx-letter-spacing: 2;"/>
        <Label fx:id="currentBidLabel" text="$0" 
               style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #ffd700;"/>
        <HBox alignment="CENTER" spacing="5">
            <Label text="Highest Bidder:" style="-fx-font-size: 12px; -fx-text-fill: #888888;"/>
            <Label fx:id="highestBidderLabel" text="No bids yet" 
                   style="-fx-font-size: 13px; -fx-font-weight: bold; -fx-text-fill: #aaaaaa;"/>
        </HBox>
    </VBox>
    
    <!-- Bidders List -->
    <VBox spacing="8" VBox.vgrow="ALWAYS">
        <Label text="ALL BIDDERS" style="-fx-font-size: 11px; -fx-text-fill: #666666; -fx-letter-spacing: 1;"/>
        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS"
                    style="-fx-background: #16213e; -fx-background-color: #16213e; -fx-border-color: #333355; -fx-border-radius: 8;">
            <VBox fx:id="biddersBox" spacing="5" style="-fx-padding: 10;">
                <!-- Bidder rows populated dynamically -->
            </VBox>
        </ScrollPane>
    </VBox>
    
    <!-- Bid Controls -->
    <HBox fx:id="bidControlsBox" alignment="CENTER" spacing="15" 
          style="-fx-background-color: #1a1a2e; -fx-background-radius: 10; -fx-padding: 15;">
        
        <VBox alignment="CENTER" spacing="5">
            <Label text="Your Bid:" style="-fx-font-size: 12px; -fx-text-fill: #888888;"/>
            <Spinner fx:id="bidAmountSpinner" prefWidth="140" prefHeight="35" styleClass="auction-spinner"
                     style="-fx-background-color: #16213e; -fx-font-size: 14px;"/>
        </VBox>
        
        <Button fx:id="bidButton" text="ðŸ’° Place Bid" onAction="#handleBid"
                prefWidth="130" prefHeight="45"
                style="-fx-background-color: #00c853; -fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"/>
        
        <Button fx:id="passButton" text="ðŸ‘‹ Pass" onAction="#handlePass"
                prefWidth="100" prefHeight="45"
                style="-fx-background-color: #666666; -fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-background-radius: 8; -fx-cursor: hand;"/>
    </HBox>
    
    <!-- Status Label -->
    <Label fx:id="statusLabel" text="" alignment="CENTER" 
           style="-fx-text-fill: #888888; -fx-font-size: 13px;" maxWidth="Infinity"/>
</VBox>
